name: "Modbus Manager Aggregates"
version: 1
description: "Aggregate sensors across all Modbus Manager devices"

# No regular sensors needed - this template only provides aggregates
sensors: []

# Aggregates configuration
aggregates:
  - name: "Total Grid Power"
    group: "grid_power"
    method: "sum"
    unit_of_measurement: "W"
    device_class: "power"
    state_class: "measurement"
    icon: "mdi:transmission-tower"
    
  - name: "Total Grid Import Power"
    group: "grid_import"
    method: "sum"
    unit_of_measurement: "W"
    device_class: "power"
    state_class: "measurement"
    icon: "mdi:transmission-tower-import"
    
  - name: "Total Grid Export Power"
    group: "grid_export"
    method: "sum"
    unit_of_measurement: "W"
    device_class: "power"
    state_class: "measurement"
    icon: "mdi:transmission-tower-export"
    
  - name: "Total Battery Power"
    group: "battery_power"
    method: "sum"
    unit_of_measurement: "W"
    device_class: "power"
    state_class: "measurement"
    icon: "mdi:battery"
    
  - name: "Total Solar Power"
    group: "mppt_power"
    method: "sum"
    unit_of_measurement: "W"
    device_class: "power"
    state_class: "measurement"
    icon: "mdi:solar-power"
    
  - name: "Total DC Power"
    group: "total_dc_power"
    method: "sum"
    unit_of_measurement: "W"
    device_class: "power"
    state_class: "measurement"
    icon: "mdi:lightning-bolt"
    
  - name: "Total Load Power"
    group: "load_power"
    method: "sum"
    unit_of_measurement: "W"
    device_class: "power"
    state_class: "measurement"
    icon: "mdi:home-lightning-bolt"
    
  - name: "Average Efficiency"
    group: "efficiency"
    method: "average"
    unit_of_measurement: "%"
    device_class: "power_factor"
    state_class: "measurement"
    icon: "mdi:gauge"
    
    
  - name: "Total Battery Charging Power"
    group: "battery_charging"
    method: "sum"
    unit_of_measurement: "W"
    device_class: "power"
    state_class: "measurement"
    icon: "mdi:battery-plus"
    
  - name: "Total Battery Discharging Power"
    group: "battery_discharging"
    method: "sum"
    unit_of_measurement: "W"
    device_class: "power"
    state_class: "measurement"
    icon: "mdi:battery-minus"
    
  - name: "Total Power Measurement"
    group: "power_measurement"
    method: "sum"
    unit_of_measurement: "W"
    device_class: "power"
    state_class: "measurement"
    icon: "mdi:lightning-bolt"
    
  - name: "Total Power Balance"
    group: "power_balance"
    method: "sum"
    unit_of_measurement: "W"
    device_class: "power"
    state_class: "measurement"
    icon: "mdi:scale-balance"
    
  - name: "Total Phase Power"
    group: "phase_power"
    method: "sum"
    unit_of_measurement: "W"
    device_class: "power"
    state_class: "measurement"
    icon: "mdi:flash"
    
  - name: "Total Meter Power"
    group: "meter_power"
    method: "sum"
    unit_of_measurement: "W"
    device_class: "power"
    state_class: "measurement"
    icon: "mdi:meter-electric"
    
  - name: "Device Count"
    group: "device_count"
    method: "count"
    unit_of_measurement: ""
    device_class: null
    state_class: "measurement"
    icon: "mdi:counter"
